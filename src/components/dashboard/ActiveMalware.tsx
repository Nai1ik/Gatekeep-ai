'use client';

interface Malware {
    name: string;
    count: number;
    trend: 'up' | 'down';
}

interface ActiveMalwareProps {
    data: Malware[];
}

export function ActiveMalware({ data }: ActiveMalwareProps) {
    const max = Math.max(...data.map(d => d.count));
    return (
        <div className="glass-card p-4">
            <h3 className="text-[10px] font-semibold uppercase tracking-widest text-gray-500 mb-3">
                Active Malware
            </h3>
            <div className="space-y-2">
                {data.map((item, i) => (
                    <div key={i} className="flex items-center gap-2">
                        <span className="text-[10px] text-gray-400 w-[100px] truncate">{item.name}</span>
                        <div className="flex-1 h-2 bg-white/5 rounded-full overflow-hidden">
                            <div
                                className="h-full rounded-full transition-all duration-700"
                                style={{
                                    width: `${(item.count / max) * 100}%`,
                                    background: `linear-gradient(90deg, #8b5cf6, #ec4899)`,
                                }}
                            />
                        </div>
                        <span className="text-[10px] font-mono text-gray-500 w-8 text-right">{item.count}</span>
                        <span className={`text-[9px] ${item.trend === 'up' ? 'text-emerald-400' : 'text-red-400'}`}>
                            {item.trend === 'up' ? '↑' : '↓'}
                        </span>
                    </div>
                ))}
            </div>
        </div>
    );
}
